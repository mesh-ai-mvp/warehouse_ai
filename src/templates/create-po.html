<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create Purchase Order - Inventory Management</title>
    <link rel="stylesheet" href="/static/css/main.css" />
    <link rel="stylesheet" href="/static/css/table.css" />
    <link rel="stylesheet" href="/static/css/dark-mode.css" />
    <link rel="stylesheet" href="/static/css/po.css" />
  </head>

  <body>
    <header class="header">
      <div class="header-left">
        <button class="sidebar-toggle" id="sidebarToggle">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <h1 class="logo">Inventory Management</h1>
      </div>
      <div class="header-right">
        <div class="theme-toggle">
          <label class="switch">
            <input type="checkbox" id="themeToggle" />
            <span class="slider">
              <span class="slider-icon sun">
                <svg
                  width="14"
                  height="14"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <circle cx="12" cy="12" r="4" />
                  <path
                    d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"
                  />
                </svg>
              </span>
              <span class="slider-icon moon">
                <svg
                  width="14"
                  height="14"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />
                </svg>
              </span>
            </span>
          </label>
        </div>
      </div>
    </header>

    <div class="app-container">
      <aside class="sidebar" id="sidebar">
        <nav class="sidebar-nav">
          <div class="nav-section">
            <h3 class="nav-section-title">Inventory</h3>
            <ul class="nav-list">
              <li class="nav-item">
                <a href="/" class="nav-link">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"
                    />
                    <polyline points="3.27,6.96 12,12.01 20.73,6.96" />
                    <line x1="12" y1="22.08" x2="12" y2="12" />
                  </svg>
                  <span>Current Stock</span>
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <polyline points="22,12 18,12 15,21 9,3 6,12 2,12" />
                  </svg>
                  <span>Analytics</span>
                </a>
              </li>
              <li class="nav-item active">
                <a href="/purchase-orders" class="nav-link">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M9 11H5a2 2 0 0 0-2 2v3c0 1.1.9 2 2 2h4m-4-6l4-4m0 0l4 4m-4-4v12"
                    />
                    <path d="M20 12V6a2 2 0 0 0-2-2H10a2 2 0 0 0-2 2v6" />
                  </svg>
                  <span>Purchase Orders</span>
                </a>
              </li>
              <li class="nav-item">
                <a href="/create-po" class="nav-link">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M12 5v14m-7-7h14" />
                  </svg>
                  <span>Create PO</span>
                </a>
              </li>
            </ul>
          </div>
          <div class="nav-section">
            <h3 class="nav-section-title">Management</h3>
            <ul class="nav-list">
              <li class="nav-item">
                <a href="#" class="nav-link">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M3 21h18" />
                    <path d="M5 21V7l8-4v18" />
                    <path d="M19 21V11l-6-4" />
                  </svg>
                  <span>Suppliers</span>
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <rect x="2" y="3" width="20" height="14" rx="2" ry="2" />
                    <line x1="8" y1="21" x2="16" y2="21" />
                    <line x1="12" y1="17" x2="12" y2="21" />
                  </svg>
                  <span>Storage Locations</span>
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <circle cx="12" cy="12" r="3" />
                    <path
                      d="M12 1v6m0 6v6m11-7h-6m-6 0H1m17-4a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM7 16a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"
                    />
                  </svg>
                  <span>Settings</span>
                </a>
              </li>
            </ul>
          </div>
        </nav>
      </aside>

      <main class="main-content">
        <div class="content-header">
          <h2>Create Purchase Order</h2>
          <div class="actions">
            <a class="btn btn-secondary" href="/">Back to Inventory</a>
          </div>
        </div>

        <div class="stepper" id="poStepper">
          <div class="step active">
            <span class="step-index">1</span
            ><span class="step-label">Details</span>
          </div>
          <div class="step">
            <span class="step-index">2</span
            ><span class="step-label">Line Items</span>
          </div>
          <div class="step">
            <span class="step-index">3</span
            ><span class="step-label">Review</span>
          </div>
        </div>

        <div class="po-layout" id="poEditContainer">
          <div class="po-left">
            <section class="po-meta-section">
              <div class="form-row">
                <div class="form-field">
                  <label for="requestedDeliveryDate"
                    >Requested Delivery Date</label
                  >
                  <input type="date" id="requestedDeliveryDate" />
                </div>
                <div class="form-field">
                  <label for="buyerName">Buyer</label>
                  <input
                    type="text"
                    id="buyerName"
                    placeholder="Enter buyer name"
                  />
                </div>
              </div>
              <div class="form-row">
                <div class="form-field full">
                  <label for="poNotes">Notes</label>
                  <textarea
                    id="poNotes"
                    rows="2"
                    placeholder="Add any special instructions or notes"
                  ></textarea>
                </div>
              </div>
            </section>

            <section id="poFormSection" class="card-section">
              <div class="section-header">
                <h3>Line Items</h3>
                <div class="section-actions">
                  <button
                    class="btn btn-secondary"
                    id="addAllDefaultSuppliersBtn"
                  >
                    Add Default Suppliers
                  </button>
                </div>
              </div>
              <div id="poItemsContainer" class="po-items-container"></div>
              <div class="section-footer">
                <button class="btn" id="cancelCreateBtn">Cancel</button>
                <button class="btn btn-primary" id="reviewOrderBtn">
                  Review Order
                </button>
              </div>
            </section>
          </div>
          <aside class="po-right">
            <div class="card-section sticky">
              <div class="section-header"><h3>Summary</h3></div>
              <div id="liveSummaryContainer"></div>
            </div>
          </aside>
        </div>

        <section
          id="poReviewSection"
          class="card-section"
          style="display: none"
        >
          <div class="section-header">
            <h3>Review Purchase Order</h3>
          </div>
          <div id="poReviewSummary" class="po-review-summary"></div>
          <div class="section-footer">
            <button class="btn" id="backToEditBtn">Back</button>
            <button class="btn btn-primary" id="submitOrderBtn">
              Submit Order
            </button>
          </div>
        </section>
      </main>
    </div>

    <div class="toast-container" id="toastContainer"></div>

    <script src="/static/js/sidebar.js"></script>
    <script src="/static/js/dark-mode.js"></script>
    <script src="/static/js/create-po.js"></script>
  </body>
</html>
